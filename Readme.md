[Where Are Large Language Models for Code Generation in GitHub?](#where-are-large-language-models-for-code-generation-in-gitHub)

- [Project Structure](#project-structure)
- [Get Started](#get-started)
- [Detailed Supplement](#detailed-supplement)
- [License](#license)
- [Citation](#citation)

# Where Are Large Language Models for Code Generation in GitHub? <span id="where-are-large-language-models-for-code-generation-in-gitHub"></span>

In order to represent how developers actually utilize Large Language Models (LLMs)' code generation capabilities or clarify the characteristics of LLM-generated code in real-world development. We investigate the characteristics of LLM-generated code and its corresponding projects hosted on GitHub. Our main work is reflected in the following aspects:

* **Github Mining for GPT-generated Code**: 

  > "GPT-generated code" refers to code generated by GPT-3.5, GPT-4.0, ChatGPT, or Copilot.

  We utilize the official [GitHub REST API](https://docs.github.com/en/rest?apiVersion=2022-11-28) to automatically identify and collect files/projects containing GPT-generated code in the five common languages (Python, Java, C/C++, JavaScript, and TypeScript). Specifically, we conduct keyword searches, such as “generated by ChatGPT” and “generated by Copilot”, to locate GitHub code files that include such keywords, retaining only those files that contain GPT-generated code. The specific parameters for mining are as follows:

  * **Mined LLMs**:  ChatGPT and Copilot.

    > We identify all currently popular LLMs. We reveal that ChatGPT and Copilot are the most frequently utilized for generating code on GitHub. In contrast, all other LLMs (e.g. CodeLlama, CodeGen, StarCoder, LlaMA, DeepSeek, and Codex) have either not been used to generate code or have generated very little code on GitHub.

  * **Mined Languages**: Python, Java, C/C++, JavaScript, and TypeScript.

    > We select the [top 10 programming languages](https://octoverse.github.com/2022/top-programming-languages) from GitHub to download code in these programming languages, but we find that the number of GPT-generated code snippets in C#, PHP, Shell, and Ruby is less than 70, which may lead to statistically unreliable results. Consequently, we focus our analysis solely on GPT-generated code snippets in Python, Java, C/C++, JavaScript, and TypeScript on GitHub.

  * **Mined Keywords**: We select triplets of search keywords indicating code generated by ChatGPT/Copilot, which typically follow the pattern x+y+z, where x ∈ {generated, written, created, implemented, authored, coded}, y ∈ {by, through, using, via, with}, and z ∈ {ChatGPT, Copilot, GPT3, GPT4, GPT-3, and GPT-4}. Therefore, we use these triplets, such as “generated by ChatGPT,” as keywords to find and collect GPT-generated code on GitHub.

* **Analyze the Characteristics of GPT-Generated Code**:

  After mining, we only collect projects created from **February 2023** onwards and manually review whether the code is truly generated by GPT. From an initial collection of 1,417 Python, 261 Java, 342 C/C++, 693 JavaScript, and 209 TypeScript code files, we filter out files that do not contain GPT-generated code and ultimately identify **533** Python, **108** Java, **113** C/C++, **164** JavaScript, and **65** TypeScript projects, and corresponding **660** Python, **174** Java, **151** C/C++, **349** JavaScript, and **79** TypeScript files containing GPT-generated code. Before analysis, we processed the mined projects and code as follows:

  * **Retrieving code changes**: We leverage the project name and code file name as unique identifiers to retrieve the complete commit history for each code file. Based on the unique hash value of each commit, we utilize the GitHub REST API to obtain the content of the code file for its each code commit.
  * **Downloading code files and projects**: We download the file containing GPT-generated code and its corresponding project when the file was initially uploaded to GitHub.

  **Analysis of GPT-Generated Code.** We analyze the types of functions generated by GPT-generated code, the types of subsequent changes, and the types of bug fixes in the commit history. Additionally, we further extract and analyzed the comments. Furthermore, we use the [SonarQube tool](https://www.sonarsource.com/products/sonarqube/) to analyze various metrics of the GPT-generated code and its associated project, aiming to explore the characteristics of GPT-generated code, the project's features, and how GPT-generated code differs from human-written code within the same project. The operations we have performed as follows:
  
  - **Code categorization**: We classify GPT-generated code into different code types based on their functionalities, employing a combination of automated and manual methods. Please refer to [Code categorization](#Code categorization) for detailed instructions.
  - **Code change categorization**: We identify commit logs to determine bug-fix commits. When a developer submits a bug-fix commit, we check for code changes in the GPT-generated code snippets at the time of this commit. If there are code changes due to bug fixes, we analyze the bug-fix contents. Additionally, for non-bug-fix changes in GPT-generated code, we analyze the reasons behind the final code modifications. Please refer to [Code change categorization](#Code change categorization) for detailed instructions.
  - **Code analysis**: We utilize the static analysis tool [SonarQube](https://www.sonarsource.com/products/sonarqube/)  to analyze GPT-generated code and its corresponding projects. From SonarQube’s analysis results, we extract metrics such as LOC, number of files, and number of methods, as well as cyclomatic complexity and cognitive complexity.
  
  
  
  ## Project Structure
  
  The main components of this code include a web crawler script for GitHub mining, as well as a data analysis module tailored for the GPT-generated code and its associated projects.
  
  **Project Structure Description**
  
  ```shell
  WhereCodeGenerationByLLM
      ├─crawled_data
      │    └─ChatGPT
      │        ├─python
      │        │    ├─created
      │        │    │    ├─code/
      │        │    │    ├─code_change/
      │        │    │    ├─project/
      │        │    │    └─Python_data.json
      │        │    ├─generated
      │        │    ├─coded
      │        │    ├─written
      │        │    └─implemented
      │        ├─java
      │        ├─javascript
      │        ├─typescript
      │        ├─cpp
      │        └─c
      ├─analyze
      ├─config
      ├─crawl
      ├─analysis_results
      ├─utils
      ├─results-code-change-type
      ├─results-code-nochange-type
      └─wherecode
          └─cli.py
  ```
  
  > The related source data and analysis results for the GPT-generated code are stored in the path arrangement of `ChatGPT/{Language}/{Keyword}`. Note that path `ChatGPT` represents both ChaGPT and Copilot together, and we have not made a separation.
  
  ### crawled data
  
  
  
  
  
  ## Get Started
  
  
  
  ## Detailed Supplement (Files) <span id="detailed-supplement"></span>
  
  
  
  ## License
  
  Our code is licensed under the [Apache-2.0 license](LICENSE).
  
  
  
  ## Citation
  
  ```
  @article{yu2024large,
    title={Where Are Large Language Models for Code Generation on GitHub?},
    author={Yu, Xiao and Liu, Lei and Hu, Xing and Keung, Jacky Wai and Liu, Jin and Xia, Xin},
    journal={arXiv preprint arXiv:2406.19544},
    year={2024}
  }
  ```
  
  
  
  
  
  
  
  
  
  